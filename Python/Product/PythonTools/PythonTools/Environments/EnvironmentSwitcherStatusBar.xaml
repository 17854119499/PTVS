<UserControl x:Class="Microsoft.PythonTools.Environments.EnvironmentSwitcherStatusBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:wpf="clr-namespace:Microsoft.VisualStudioTools.Wpf"
             xmlns:ptwpf="clr-namespace:Microsoft.PythonTools.Wpf"
             xmlns:theming="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Imaging"
             xmlns:catalog="clr-namespace:Microsoft.VisualStudio.Imaging;assembly=Microsoft.VisualStudio.ImageCatalog"
             xmlns:imaging="clr-namespace:Microsoft.VisualStudio.Imaging;assembly=Microsoft.VisualStudio.Imaging"
             xmlns:local="clr-namespace:Microsoft.PythonTools.Environments"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/Microsoft.PythonTools;component/PythonTools/Wpf/ModernStyles.xaml" />
                <ResourceDictionary>
                    <Style TargetType="{x:Type TextBlock}">
                        <Setter Property="FontFamily" Value="{DynamicResource {x:Static ptwpf:ModernStyles.EnvironmentFontFamilyKey}}"/>
                        <Setter Property="FontSize" Value="{DynamicResource {x:Static ptwpf:ModernStyles.EnvironmentFontSizeKey}}"/>
                    </Style>

                    <Style TargetType="{x:Type StackPanel}">
                        <Setter Property="Background" Value="Transparent" />
                        <Setter Property="Height" Value="18" />
                        <Setter Property="IsHitTestVisible" Value="True" />
                        <Setter Property="Margin" Value="11,0,0,0" />
                        <Setter Property="Orientation" Value="Horizontal" />

                        <Style.Triggers>
                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsMouseOver}" Value="True">
                                <Setter Property="Background">
                                    <Setter.Value>
                                        <SolidColorBrush Color="White" Opacity="0.2" />
                                    </Setter.Value>
                                </Setter>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <StackPanel
        Visibility="{Binding Path=IsVisible, Converter={x:Static wpf:Converters.FalseIsCollapsed}}"
        theming:ImageThemingUtilities.ImageBackgroundColor="{Binding Background, RelativeSource={RelativeSource Self}}">
        <StackPanel.ToolTip>
            <ToolTip Placement="Top">
                <TextBlock
                    Text="{Binding Path=ToolTipText}"
                    Foreground="{DynamicResource {x:Static ptwpf:ModernStyles.ToolTipTextBrushKey}}"/>
            </ToolTip>
        </StackPanel.ToolTip>
        <Viewbox Width="16" Height="16" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
            <Rectangle Width="16" Height="16">
                <Rectangle.Fill>
                    <DrawingBrush>
                        <DrawingBrush.Drawing>
                            <DrawingGroup>
                                <DrawingGroup.Children>
                                    <GeometryDrawing Brush="#00FFFFFF" Geometry="F1M16,16L0,16 0,0 16,0z" />
                                    <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1M10.4209,13.3789L10.4219,13.3789C10.8099,13.3729 11.1289,13.6829 11.1339,14.0699 11.1409,14.4579 10.8299,14.7769 10.4419,14.7829 10.0549,14.7889 9.7349,14.4799 9.7299,14.0919L9.7299,14.0789C9.7279,13.6939,10.0369,13.3819,10.4209,13.3789 M15.7169,6.3639C15.4519,5.2989,14.9459,4.4169,13.8739,4.4169L12.7049,4.4169 12.7049,6.1299C12.7049,7.3989,11.4159,8.2779,10.1899,8.2779L6.5089,8.2779C5.4209,8.3719,4.5669,9.2489,4.4999,10.3379L4.4999,13.8469C4.4999,14.8459 5.4519,15.4329 6.4259,15.7189 7.6709,16.0939 8.9979,16.0939 10.2429,15.7189 11.1709,15.4499 12.2219,14.9099 12.2219,13.8469L12.2219,12.6219 8.3609,12.6219 8.3609,12.1389 13.8739,12.1389C14.9449,12.1389 15.3439,11.3099 15.7169,10.1889 16.0949,8.9419 16.0949,7.6109 15.7169,6.3639 M5.5759,2.5339C5.1889,2.5399,4.8689,2.2309,4.8629,1.8429L4.8629,1.8349C4.8599,1.4489 5.1699,1.1339 5.5549,1.1299 5.9429,1.1239 6.2619,1.4339 6.2679,1.8209 6.2739,2.2089 5.9639,2.5279 5.5759,2.5339 M9.4669,7.2399C10.4919,7.2399,11.4999,6.6039,11.4999,5.5749L11.4999,2.0659C11.4999,1.0669 10.5629,0.3169 9.5629,0.1509 8.8959,0.0468999999999991 8.2219,-0.00309999999999988 7.5469,-9.99999999997669E-05 6.9299,0.000899999999999679 6.3129,0.0518999999999998 5.7029,0.1509 4.1439,0.4259 3.7769,1.0029 3.7769,2.0659L3.7769,3.3789 7.6389,3.3789 7.6389,3.8619 2.5619,3.8619C1.4349,3.8589 0.466899999999999,4.6609 0.258899999999999,5.7679 -0.0861000000000001,7.0269 -0.0861000000000001,8.3559 0.258899999999999,9.6139 0.5219,10.7049 1.1469,11.5849 2.2179,11.5849L3.2949,11.5849 3.2949,9.7359C3.3929,8.4019,4.4529,7.3409,5.7869,7.2399z" />
                                </DrawingGroup.Children>
                            </DrawingGroup>
                        </DrawingBrush.Drawing>
                    </DrawingBrush>
                </Rectangle.Fill>
            </Rectangle>
        </Viewbox>
        <TextBlock 
            x:Name="PythonEnvironmentStatusText"
            Text="{Binding Path=StatusText}"
            Margin="4,0,0,1"
            MaxWidth="300"
            VerticalAlignment="Bottom"
            Foreground="{DynamicResource {x:Static ptwpf:ModernStyles.StatusBarDefaultTextBrushKey}}"/>
        <Polygon
            Margin="8,8,8,0"
            Points="0,4 4,0 8,4 0,4"
            Fill="{Binding ElementName=PythonEnvironmentStatusText, Path=Foreground}"
            Localization.Attributes="Content (Unmodifiable Unreadable)" />
    </StackPanel>
</UserControl>
